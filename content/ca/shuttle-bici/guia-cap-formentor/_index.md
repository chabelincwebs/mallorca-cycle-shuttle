---
title: "Guia Mestra: Ciclisme al Cap de Formentor"
description: "Guia completa per fer ciclisme al Cap de Formentor - Port de Pollen√ßa fins al far i tornada, amb vistes espectaculars a la costa, t√∫nels i crestes exposades"
translationKey: "guide-cap-formentor"
hero_image: "/img/cap-formentor-hero-master-guide.webp"
hero_title: "Guia Mestra: Ciclisme al Cap de Formentor"
layout: "guide-hero"
type: "bike-shuttle"

stats:
  - icon: "üìè"
    value: "38-42 km"
    label: "Dist√†ncia Total"
  - icon: "‚õ∞Ô∏è"
    value: "1200m"
    label: "Desnivell Total"
  - icon: "üìä"
    value: "6-7%"
    label: "Pujades Principals"
  - icon: "‚è±Ô∏è"
    value: "1h45-4h"
    label: "Temps en Moviment"

route_cards:
  - title: "Com Arribar-hi"
    image: "/img/cap-formentor-getting-there.webp"
    excerpt: "Si us allotgeu a la zona, √©s una ruta imprescindible. Si esteu m√©s lluny, agafeu un bus bici programat o reserveu un transport privat fins al Port de Pollen√ßa."
    full_content: |
      El Port de Pollen√ßa √©s el punt de sortida natural per la ruta del Cap de Formentor. Si us allotgeu a la zona, simplement sortiu del vostre allotjament.

      Per als que es troben en altres parts de l'illa, considereu agafar un <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">bus bici programat</a> o reservar un <a href="/ca/shuttle-bici/reserves-shuttle-privat/" target="_blank" rel="noopener noreferrer">transport privat</a> fins al Port de Pollen√ßa. Aix√≤ us permetr√† comen√ßar frescos i estalviar energia per a la ruta.

      La ruta tamb√© es pot combinar amb la ruta d'<a href="/ca/shuttle-bici/guia-andratx-pollenca/" target="_blank" rel="noopener noreferrer">Andratx a Pollen√ßa</a> per a un dia √®pic sobre la bici.

  - title: "Visi√≥ General de la Ruta"
    image: "/img/cap-formentor-route.webp"
    excerpt: "Anada i tornada per la Ma-2210 amb dos trams principals: Coll de Sa Creueta fins al Mirador Es Colomer, i despr√©s a la tornada des de la platja de Formentor fins al Mirador Es Colomer."
    full_content: |
      La ruta √©s una anada i tornada per la Ma-2210 amb dues seccions principals de pujada:

      **Port de Pollen√ßa ‚Üí Mirador Es Colomer (Coll de Sa Creueta)**
      Pujada de 4 km a aproximadament 6-7% amb revolts en cap d'agulla que porten a un mirador espectacular.

      **Tornada: Platja de Formentor ‚Üí Mirador**
      Pujada similar de 4 km a aproximadament 6-7% amb revolts en cap d'agulla amb vistes sobre el mar que tornen al mirador.

      **Platja ‚Üí Far (Faro de Formentor)**
      M√©s exposat amb cabres i alguna ombra d'un bosc de pins, amb vistes espectaculars sobre Cala Murta abans del t√∫nel (il¬∑luminat) de pocs centenars de metres. Diversos trams durs, amb la rampa final particularment exigent a la tornada.

      **Opcions addicionals:** El carrer√≥ lateral molt empinada de la Talaia d'Albercutx des del Mirador Es Colomer ofereix vistes impressionants per√≤ amb pendents de 10-14%+ sobre superf√≠cies irregulars durant uns 3km. Tamb√© es recomana una pausa a la Platja de Formentor. Pot ser necessari alimentar les cabres del far amb les vostres barretes energ√®tiques cares! El caf√® del far generalment est√† obert quan el temps √©s bo de 10:00 - 16:00 de mar√ß a octubre, per√≤ no hi compteu.

  - title: "Seguretat i Preparaci√≥"
    image: "/img/cap-formentor-safety.webp"
    excerpt: "Llums davanter i posterior obligatoris per als t√∫nels. El vent pot fer que les crestes siguin exposades. Assegureu-vos de tenir la vostra p√≤lissa de Mallorca Bike Rescue en cas que la bici o el cos us fallin."
    full_content: |
      **Equipament de Seguretat Essencial:**
      - Llums davanter i posterior (obligatoris per als t√∫nels - traieu-vos les ulleres de sol a l'interior)
      - Jaqueta tallvent per a seccions exposades i descensos
      - 2 ampolles d'aigua plenes (no confieu en aixetes interm√®dies)
      - DNI i tel√®fon (WhatsApp funciona b√© per compartir la ubicaci√≥)
      - C√†meres de recanvi/kit de pegats, mini-bomba/CO‚ÇÇ, multieienes, patilla de canvi

      **Etiqueta en Carretera:**
      - Baixeu dins de les l√≠nies de visi√≥ - aneu amb compte amb revolts cecs i ponts estrets
      - Fila √≠ndia quan estigui concorregut; cediu el pas als altres en punts estrets
      - Aneu amb compte amb cabres, caigudes de roques i pinyes a la carretera
      - Les taques humides sota els arbres poden ser relliscoses
      - No hi ha drons al parc sense permisos; respecteu tots els senyals

      **Contactes d'Emerg√®ncia:**
      - Serveis d'emerg√®ncia: 112 (compartiu la ubicaci√≥ exacta via fita quilom√®trica o pin de WhatsApp)
      - Pla de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">rescat</a>: Assegureu-vos de tenir la vostra p√≤lissa de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> en cas que la bici o el cos us fallin.
---

## Resum

**Ruta:** Port de Pollen√ßa ‚Üí Cap de Formentor (far) ‚Üí tornada

**Dist√†ncia i desnivell:** ~38-42 km, ~1200m de desnivell total

**Superf√≠cie:** Bon asfalt; vistes espectaculars; un t√∫nel curt il¬∑luminat

**Temps de ruta (en moviment):**
- Fort: 1h45-2h15
- En forma: 2h15-3h
- Constant: 3h-4h

**Dificultat:** Intermedi a avan√ßat (exposici√≥ + vent + tr√†nsit)

**Millor hora de sortida:** D'hora o a la tarda; eviteu l'hora de dinar amb tr√†nsit tur√≠stic

## Com Funciona

√âs una ruta d'anada i tornada per la Ma-2210 amb dos trams i mig principals de pujada: 1. l'ascens del Coll de Sa Creueta fins al Mirador Es Colomer, i despr√©s a la tornada hi ha un tram curt (mig!) des del far i despr√©s des de la platja de Formentor fins al Mirador Es Colomer. La resta √©s una muntanya russa de pujades i baixades curtes. Espereu que el viatge de tornada sigui molt m√©s r√†pid que l'anada.

Les opcions addicionals inclouen el carrer√≥ lateral molt empinada de la Talaia d'Albercutx amb una superf√≠cie irregular (nom√©s per a escaladors amb confian√ßa) o una pausa relaxant a la Platja de Formentor.

Si us allotgeu a la zona, √©s una ruta imprescindible. Si esteu m√©s lluny, agafeu un <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">transport programat</a> o reserveu un <a href="/ca/shuttle-bici/reserves-shuttle-privat/" target="_blank" rel="noopener noreferrer">transport privat</a> fins al Port de Pollen√ßa.

## Desglossament per Segments

### Port de Pollen√ßa ‚Üí Mirador Es Colomer (Coll de Sa Creueta)

**Dist√†ncia:** 4 km
**Pendent:** ~6-7% amb revolts en cap d'agulla
**Punts Destacats:** Mirador costaner espectacular a la part superior
**Perills:** Autobusos tur√≠stics ocasionals
**Opci√≥ de sortida:** Cap fins a dalt

Aquesta pujada inicial presenta pendents constants amb revolts en cap d'agulla tallats al vessant. El mirador Es Colomer al cim ofereix vistes impressionants sobre els penya-segats dram√†tics i √©s una parada perfecta per a fotos.

### Mirador ‚Üí Platja de Formentor

**Dist√†ncia:** uns 4km de baixada √†mplia
**Pendent:** 5-6%
**Punts Destacats:** Paisatge costaner, bosc, descens √†mplia/suau!
**Perills:** Seccions estretes, visibilitat limitada en alguns revolts
**Menjar/aigua:** Caf√® estacional a la platja (horaris poc fiables, preus alts)

La carretera s'obre amb impressionants vistes mediterr√†nies en el descens cap a la zona de la platja.

### Platja ‚Üí Far (Faro de Formentor)

**Dist√†ncia:** Darrer tram fins al far 7,5km
**Pendent:** Diverses rampes dures
**Punts Destacats:** Carena exposada, vistes al mar, bosc, petita vinya
**Perills:** Exposici√≥ al vent ocasionalment, cabres, rampa final mossega fort a la tornada
**Opci√≥ de sortida:** Gireu on necessiteu

### Taula Resum de Segments

| Segment | Dist√†ncia | Temps T√≠pic | Pendents | Perills Clau | Sortida/Menjar |
|---------|-----------|-------------|----------|--------------|----------------|
| Port de Pollen√ßa ‚Üí Mirador | 4 km | 15-25 min | 6-7% | Carretera estreta, autobusos | Cap |
| Mirador ‚Üí Platja | 4 km | 10 min | 5% | Rosada, agulles de pi | Caf√® platja i Mirador (estacional) |
| Platja ‚Üí Far | 7-8 km | 20-40 min | Rampes dures | Dies ventosos, cabres | Girar a la platja |
| **Total anada** | ~19-21 km | ~55-100 min | Mixt | Diversos | M√∫ltiples |
| **Total tornada** | ~19-21 km | ~50-90 min | Perfil invers | Mateixos + cames cansades | Mateixos |

## Mapa i Fitxers

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
/* Route Cards */
.route-accordion {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 2rem 0;
}

.route-item {
  border: 1px solid #d2d2d7;
  border-radius: 12px;
  background: #ffffff;
  overflow: hidden;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
}

.route-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06);
  border-color: rgba(241, 0, 0, 0.2);
}

.route-item.active {
  background: #ffffff;
  border-color: rgba(241, 0, 0, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.route-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 1.5rem;
  cursor: pointer;
  user-select: none;
  gap: 1rem;
  flex-wrap: wrap;
  background: transparent;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.route-header:hover {
  background: rgba(245, 245, 247, 0.5);
}

.route-item.active .route-header {
  padding-bottom: 1.5rem;
}

.route-item.active .route-header::after {
  content: '‚úï';
  position: absolute;
  top: 1rem;
  right: 1rem;
  font-size: 1.25rem;
  color: #6e6e73;
  font-weight: 600;
  line-height: 1;
  opacity: 0.6;
  transition: opacity 0.2s ease;
}

.route-item.active .route-header:hover::after {
  opacity: 1;
}

.route-title-section {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
  min-width: 200px;
}

.route-icon {
  font-size: 1.25rem;
  transition: transform 0.2s ease;
  color: #f10000;
}

.route-item.active .route-icon {
  transform: rotate(90deg);
}

.route-title {
  font-weight: 600;
  font-size: 1.0625rem;
  color: #1d1d1f;
  line-height: 1.3;
}

.route-stats-inline {
  display: flex;
  gap: 0.75rem;
  color: #6e6e73;
  font-size: 0.875rem;
  font-weight: 500;
  flex-wrap: wrap;
  align-items: center;
  margin-top: 0.5rem;
}

.route-stats-inline span {
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.375rem 0.75rem;
  background: #f5f5f7;
  border-radius: 6px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.route-stats-inline span:hover {
  background: rgba(245, 245, 247, 0.8);
}

.route-actions {
  display: flex;
  gap: 0.5rem;
}

.gpx-download {
  padding: 0.5rem 1rem;
  background: #f5f5f7;
  border: 1px solid #d2d2d7;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  color: #1d1d1f;
  text-decoration: none;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  white-space: nowrap;
}

.gpx-download:hover {
  background: #f10000;
  color: white;
  border-color: #f10000;
  text-decoration: none;
  transform: translateY(-1px);
}

.route-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.route-item.active .route-content {
  max-height: 2000px;
}

.route-content-inner {
  padding: 0 1.5rem 1.5rem 1.5rem;
}

.route-description {
  margin: 0 0 1.5rem 0;
  padding: 1rem;
  background: #f5f5f7;
  border-left: 3px solid #f10000;
  border-radius: 4px;
  font-style: italic;
  color: #6e6e73;
  line-height: 1.6;
}

.route-map {
  height: 500px;
  width: 100%;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  border: 1px solid #d2d2d7;
  overflow: hidden;
  background: #aad3df;
}

.route-map .leaflet-tile-container {
  opacity: 1 !important;
}

.route-map .leaflet-tile,
.route-map .leaflet-tile-pane img,
.route-map img.leaflet-tile {
  opacity: 1 !important;
  visibility: visible !important;
  width: 256px !important;
  height: 256px !important;
  max-width: 256px !important;
  max-height: 256px !important;
  min-width: 256px !important;
  min-height: 256px !important;
}

.route-map .leaflet-layer {
  opacity: 1 !important;
}

.route-map img {
  max-width: none !important;
  width: auto !important;
  height: auto !important;
}

.route-map .leaflet-overlay-pane {
  z-index: 400 !important;
  pointer-events: none !important;
}

.route-map .leaflet-overlay-pane svg,
.route-map svg.leaflet-zoom-animated {
  overflow: visible !important;
  max-width: none !important;
  max-height: none !important;
  min-width: 0 !important;
  min-height: 0 !important;
  display: block !important;
  position: absolute !important;
}

main .container .prose .route-map svg,
.route-map .leaflet-overlay-pane svg,
.route-map svg {
  max-width: none !important;
  max-height: none !important;
  height: initial !important;
  width: initial !important;
}

.route-map .leaflet-overlay-pane path,
.route-map path.leaflet-interactive,
.route-map svg path,
.route-map path.route-polyline {
  visibility: visible !important;
  display: block !important;
  opacity: 0.8 !important;
  stroke: #f10000 !important;
  stroke-width: 3px !important;
  stroke-opacity: 0.8 !important;
  fill: none !important;
  fill-opacity: 0 !important;
  pointer-events: auto !important;
  vector-effect: non-scaling-stroke !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  transform: none !important;
}

path.route-polyline {
  stroke: #f10000 !important;
  stroke-width: 3px !important;
  visibility: visible !important;
  opacity: 0.8 !important;
}

.route-map .leaflet-marker-icon,
.route-map .leaflet-marker-pane img {
  max-width: none !important;
  min-width: 25px !important;
  min-height: 41px !important;
  width: 25px !important;
  height: 41px !important;
}

.route-map .custom-marker {
  width: 30px !important;
  height: 30px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.route-map .custom-marker div {
  width: 30px !important;
  height: 30px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.elevation-profile {
  height: 300px;
  width: 100%;
  background: white;
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid #d2d2d7;
}

.elevation-profile canvas {
  max-width: 100% !important;
}

@media (max-width: 768px) {
  .route-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .route-stats-inline {
    font-size: 0.8125rem;
  }

  .route-map {
    height: 400px;
  }

  .elevation-profile {
    height: 250px;
  }
}
</style>

<div class="route-accordion">
  <!-- Route 1: Standard -->
  <div class="route-item" id="route-formentor-1">
    <div class="route-header" onclick="toggleRoute('formentor-1')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa al Cap de Formentor Anada i Tornada</div>
          <div class="route-stats-inline">
            <span>üìè 42 km</span>
            <span>‚õ∞Ô∏è 1200m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-formentor_return.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Anada i tornada cl√†ssica fins al far amb dues seccions principals de pujada, vistes costaneres, t√∫nels curts i crestes exposades. La manera m√©s popular d'experimentar el Cap de Formentor.</p>
        <div id="map-formentor-1" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-1"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 2: With Albercutx -->
  <div class="route-item" id="route-formentor-2">
    <div class="route-header" onclick="toggleRoute('formentor-2')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa al Cap de Formentor via Talaia d'Albercutx</div>
          <div class="route-stats-inline">
            <span>üìè 46 km</span>
            <span>‚õ∞Ô∏è 1450m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-albercutx-formentor_return.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Variant desafiadora afegint el carrer√≥ lateral molt empinada de la Talaia d'Albercutx des del Mirador Es Colomer. Presenta pendents de 10-14%+ sobre superf√≠cies irregulars amb vistes espectaculars de 360¬∞. Nom√©s per a escaladors amb confian√ßa.</p>
        <div id="map-formentor-2" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-2"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 3: Port de Pollen√ßa via Cap de Formentor to Playa de Palma -->
  <div class="route-item" id="route-formentor-3">
    <div class="route-header" onclick="toggleRoute('formentor-3')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa via Cap de Formentor fins a Playa de Palma</div>
          <div class="route-stats-inline">
            <span>üìè 110 km</span>
            <span>‚õ∞Ô∏è 2300m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/Port_de_Pollen√ßa_via_Cap_de_Formentor_to_Playa_de_Palma.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Ruta √®pica que combina l'espectacular far del Cap de Formentor amb una ruta cap avall fins a Playa de Palma. Comenceu amb la ic√≤nica anada i tornada de Formentor abans de dirigir-vos cap al sud a trav√©s dels contraforts de la Tramuntana fins a la costa.</p>
        <div id="map-formentor-3" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-3"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 4: Pollen√ßa to Andratx via Formentor -->
  <div class="route-item" id="route-formentor-4">
    <div class="route-header" onclick="toggleRoute('formentor-4')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Tornada via Cap de Formentor</div>
          <div class="route-stats-inline">
            <span>üìè 162 km</span>
            <span>‚õ∞Ô∏è 3.500 m</span>
            <span style="display: inline-block; padding: 0.375rem 0.875rem; border-radius: 6px; font-size: 0.6875rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; background: #FFD700; color: #000; font-weight: 800;">√àpic</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-portandratx-formentor.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Completeu la cl√†ssica travessa de costa a costa per√≤ incloent-hi el que alguns consideren els millors 20km de carretera per a ciclistes d'Europa - l'anada i tornada al far del Cap de Formentor. Dia √®pic!</p>
        <div id="map-formentor-4" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-4"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Route configuration
const routes = {
  'formentor-1': { gpx: 'portpollenca-formentor_return-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Faro de Formentor' },
  'formentor-2': { gpx: 'portpollenca-albercutx-formentor_return-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Faro de Formentor' },
  'formentor-3': { gpx: 'Port_de_Pollen√ßa_via_Cap_de_Formentor_to_Playa_de_Palma-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Playa de Palma' },
  'formentor-4': { gpx: 'portpollenca-portandratx-formentor-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Port d\'Andratx' }
};

const loadedRoutes = {};

// Toggle accordion item
function toggleRoute(routeId) {
  const item = document.getElementById('route-' + routeId);
  const wasActive = item.classList.contains('active');

  // Close all other items
  document.querySelectorAll('.route-item').forEach(el => {
    el.classList.remove('active');
  });

  // Open this item if it wasn't active
  if (!wasActive) {
    item.classList.add('active');

    // Load route if not already loaded
    if (!loadedRoutes[routeId]) {
      loadRoute(routeId);
      loadedRoutes[routeId] = true;
    }
  }
}

// Load and render a route
async function loadRoute(routeId) {
  const config = routes[routeId];
  if (!config) return;

  try {
    // Fetch GPX
    const response = await fetch('/routes/' + config.gpx);
    const gpxText = await response.text();
    const parser = new DOMParser();
    const gpxDoc = parser.parseFromString(gpxText, 'text/xml');

    // Extract coordinates
    const trkpts = Array.from(gpxDoc.querySelectorAll('trkpt'));
    const coordinates = trkpts.map(pt => ({
      lat: parseFloat(pt.getAttribute('lat')),
      lon: parseFloat(pt.getAttribute('lon')),
      ele: parseFloat(pt.querySelector('ele').textContent)
    }));

    // Render map
    renderMap(routeId, coordinates, config);

    // Render elevation chart
    renderElevationChart(routeId, coordinates);

  } catch (error) {
    console.error('Error loading route:', error);
  }
}

// Render map
function renderMap(routeId, coordinates, config) {
  const mapId = 'map-' + routeId;
  const mapDiv = document.getElementById(mapId);

  // Initialize map
  const map = L.map(mapId).setView([coordinates[0].lat, coordinates[0].lon], 10);

  // Add tiles
  const tileLayer = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors',
    maxZoom: 19
  });

  tileLayer.addTo(map);

  // Add route line
  const routeLine = L.polyline(coordinates.map(c => [c.lat, c.lon]), {
    color: '#f10000',
    weight: 3,
    opacity: 0.8,
    fillOpacity: 0,
    lineCap: 'round',
    lineJoin: 'round',
    className: 'route-polyline',
    smoothFactor: 0,
    noClip: true
  }).addTo(map);

  routeLine.bringToFront();

  // Create custom marker icons
  const startIcon = L.divIcon({
    html: '<div style="width:30px;height:30px;background:#00ff00;border:3px solid white;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>',
    className: 'custom-marker',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
  });

  const endIcon = L.divIcon({
    html: '<div style="width:30px;height:30px;background:#ff0000;border:3px solid white;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>',
    className: 'custom-marker',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
  });

  // Add markers
  L.marker([coordinates[0].lat, coordinates[0].lon], { icon: startIcon })
    .addTo(map)
    .bindPopup('<strong>Sortida:</strong> ' + config.startName);

  const lastIdx = coordinates.length - 1;
  L.marker([coordinates[lastIdx].lat, coordinates[lastIdx].lon], { icon: endIcon })
    .addTo(map)
    .bindPopup('<strong>Arribada:</strong> ' + config.endName);

  // Fit bounds
  map.fitBounds(routeLine.getBounds(), { padding: [50, 50] });

  // Force resize after animation
  setTimeout(() => {
    map.invalidateSize();
  }, 500);
}

// Render elevation chart
function renderElevationChart(routeId, coordinates) {
  const chartId = 'chart-' + routeId;
  const ctx = document.getElementById(chartId).getContext('2d');

  // Calculate cumulative distance
  const distancePoints = [0];
  for (let i = 1; i < coordinates.length; i++) {
    const lat1 = coordinates[i-1].lat * Math.PI / 180;
    const lat2 = coordinates[i].lat * Math.PI / 180;
    const dLat = (coordinates[i].lat - coordinates[i-1].lat) * Math.PI / 180;
    const dLon = (coordinates[i].lon - coordinates[i-1].lon) * Math.PI / 180;
    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
              Math.cos(lat1) * Math.cos(lat2) *
              Math.sin(dLon/2) * Math.sin(dLon/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    distancePoints.push(distancePoints[i-1] + 6371 * c);
  }

  // Sample data
  const sampleRate = 5;
  const sampledDistances = distancePoints.filter((_, i) => i % sampleRate === 0);
  const sampledElevations = coordinates.filter((_, i) => i % sampleRate === 0).map(c => c.ele);

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: sampledDistances.map(d => d.toFixed(1)),
      datasets: [{
        label: 'Altitud (m)',
        data: sampledElevations,
        borderColor: '#f10000',
        backgroundColor: 'rgba(241, 0, 0, 0.1)',
        borderWidth: 2,
        fill: true,
        tension: 0.4,
        pointRadius: 0
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: {
            title: (context) => 'Dist√†ncia: ' + context[0].label + ' km',
            label: (context) => 'Altitud: ' + context.parsed.y.toFixed(0) + ' m'
          }
        }
      },
      scales: {
        x: {
          title: { display: true, text: 'Dist√†ncia (km)' },
          ticks: { maxTicksLimit: 15 }
        },
        y: {
          title: { display: true, text: 'Altitud (m)' }
        }
      },
      interaction: {
        intersect: false,
        mode: 'index'
      }
    }
  });
}
</script>

## Estrat√®gia de Temps (Realitat de Tr√†nsit i Clima)

### Restriccions de Vehicles Estacionals

Les restriccions de vehicles estacionals al far s'apliquen de juny a octubre (no hi ha cotxes m√©s enll√† de certs punts, nom√©s autobusos tur√≠stics cada hora) - **els ciclistes sempre estan permesos**.

Al 2025, les restriccions estaven vigents de l'1 de juny al 31 d'octubre. Al 2026, hi ha debat sobre estendre les restriccions de vehicles per incloure-hi maig perqu√® la pedala pugui reinar m√©s temps (toquem fusta!).

### Consideracions sobre el Vent

En dies ventosos, les ratxes poden fer que les crestes exposades siguin desafiadores. Sigueu prudents i considereu girar enrere si les condicions es tornen insegures. Consulteu les previsions de vent abans de sortir.

### Calor i Sol

Ombra m√≠nima en aquesta ruta a part dels 3km m√©s o menys entre la platja i el t√∫nel on passeu pel bosc de pins. Planifiqueu aigua adequada i protecci√≥ solar, especialment durant els mesos m√©s calorosos. La platja de Formentor √©s la vostra amiga per a una pausa refrescant i oportunitat de reomplir (quan les instal¬∑lacions estacionals estiguin obertes).

### Millor Moment

- **Alba fins a mig mat√≠:** Llum m√†gica, tr√†nsit m√≠nim, temperatures m√©s fresques
- **Finals de tarda:** Bona llum per a fotos, menys tr√†nsit
- **Eviteu:** Finals de mat√≠ (12:30-14:00) quan el tr√†nsit tur√≠stic arriba al m√†xim

## Seguretat i Etiqueta

- **Llums:** Llums davanter i posterior obligatoris per als t√∫nels; traieu-vos les ulleres de sol a l'interior
- **Baixada:** Mantingueu-vos dins de les l√≠nies de visi√≥ - els revolts cecs i ponts estrets requereixen precauci√≥
- **Perills de la carretera:** Aneu amb compte amb cabres, caigudes de roques, pinyes i taques humides sota els arbres
- **Tr√†nsit:** Fila √≠ndia quan estigui concorregut; cediu el pas als altres en punts estrets
- **Permisos:** No hi ha drons al parc sense permisos; respecteu tots els senyals
- **Emerg√®ncia:** Truqueu al 112 i compartiu la ubicaci√≥ exacta (fita quilom√®trica o pin d'ubicaci√≥ de WhatsApp)
- **Pla de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">rescat</a>:** Assegureu-vos de tenir la vostra p√≤lissa de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> en cas que la bici o el cos us fallin

## Aigua, Menjar i Instal¬∑lacions

### Port de Pollen√ßa (Sortida/Arribada)
Serveis complets disponibles: caf√®s, restaurants, supermercats, botigues de bicicletes, lavabos.

### Es Mirador (Cim)
Operaci√≥ estacional, aperitius b√†sics i begudes, lavabo port√†til disponible (consulteu els horaris d'obertura tant del lavabo com del caf√®!)

### Platja de Formentor
L'hotel/caf√® estacional pot estar obert; espereu preus alts i horaris variables.

### Caf√® del Far
Operaci√≥ estacional; de vegades tancat sense av√≠s amb mal temps. Generalment obert de mar√ß a octubre de 10:00 a 16:00.

### Estrat√®gia d'Aigua
**No confieu en reomplir a mig cam√≠ en cas que els caf√®s estiguin tancats.** Comenceu amb 2 ampolles plenes.

### Equipament Essencial
- **Llums:** Obligatoris per als t√∫nels (davanter i posterior)
- **Capes:** Jaqueta tallvent per a descensos; el temps pot canviar r√†pidament
- **Recanvis:** Tot el que necessiteu per arreglar un punxada
- **Diners:** Efectiu i targeta (algunes instal¬∑lacions nom√©s targeta, altres nom√©s efectiu)
- **DNI i tel√®fon:** Porteu DNI amb foto; WhatsApp funciona b√© per compartir ubicaci√≥ d'emerg√®ncia

## Perfils de Ciclistes

### Principiants a Mallorca
**Recomanaci√≥:** Gireu a la platja de Formentor si teniu qualsevol dubte sobre la forma f√≠sica, el temps o l'hora. La secci√≥ del far √©s m√©s exposada i desafiadora.

### Grups Intermedis
**Recomanaci√≥:** La ruta completa del far √©s assolible i brillant. Reagrupeu-vos abans dels descensos i t√∫nels. Establiu una hora de gir i compliu-la.

### Ciclistes Forts/Experimentats
**Recomanaci√≥:** Considereu afegir l'esp√≥ de la Talaia d'Albercutx des del Mirador (rampes pronunciades 10-14%+, superf√≠cie irregular, vistes impressionants). Nom√©s intenteu-ho si teniu confian√ßa amb la pujada i baixada pronunciada i t√®cnica.

## Variacions i Opcions de Sortida

### Opci√≥ de Dia Curt
**Port de Pollen√ßa ‚Üî Platja de Formentor nom√©s**
~20 km total, elimina molta pujada mentre encara ofereix paisatge espectacular.

### Ruta amb Parada de Fotos
**Afegiu Talaia d'Albercutx des del Mirador**
Rampes molt pronunciades (10-14%+), superf√≠cie irregular, vistes de 360¬∞ absolutament impressionants. Baixeu amb molta cura - grava solta, forats i pendents pronunciades.

## Llocs per a Fotos

### Mirador Es Colomer
Aparqueu de manera segura fora de la carretera en √†rees designades. Vistes ic√≤niques sobre penya-segat mirant cap avall la pen√≠nsula.

### Sortides del T√∫nel
Nom√©s atureu-vos a les entrades/sortides de t√∫nels on hi hagi espais segurs - mai a l'interior o immediatament fora dels t√∫nels.

### Far
Espai limitat. Sigueu r√†pids i considerats amb altres visitants.

### Fotos de Fauna
Mai atureu-vos en revolts cecs. Les cabres s√≥n models impredictibles i podeu fer que corrin a la carretera.

### <a href="https://www.mallorcacyclingphotos.com/" target="_blank">Mallorca Bike Fotos</a>
Fot√≤grafs professionals de <a href="https://www.mallorcacyclingphotos.com/" target="_blank">Mallorca Bike Fotos</a> estan situats a Es Colomer de Formentor i just abans del far, capturant fotos d'acci√≥ ic√≤niques de vosaltres en moviment. Les fotos es pengen cada vespre - mireu-les en l√≠nia despr√©s de la vostra ruta.

## Bon Saber (Punts R√†pids)

- **Senyal m√≤bil:** Generalment b√© per√≤ pot baixar prop de penya-segats i a valls
- **Superf√≠cie de la carretera:** Realment bona - aneu amb cura extra en descensos que la velocitat no superi l'habilitat
- **Ombra:** Escassa al llarg de la ruta - protecci√≥ solar i electr√≤lits essencials fins i tot en temporades interm√®dies
- **Fauna:** Les cabres poden apar√®ixer inesperadament a la carretera
- **Tr√†nsit:** Les restriccions estacionals ajuden per√≤ s'omple molt a l'abril i maig de 12:00 - 14:00
- **Hist√≤ria:** Com Sa Calobra, aquesta carretera va ser dissenyada per l'enginyer Antonio Parietti als anys 1920-30

## Preguntes Freq√ºents

### La carretera est√† tancada als cotxes?
S√≠ (t√≠picament juny-octubre 10:00 - 22:00, possiblement estenent-se a maig al 2026). Els ciclistes generalment estan permesos en tot moment - consulteu les normes actuals abans d'anar-hi.

### Hi ha aigua disponible per la ruta?
**No hi compteu.** Comenceu amb 2 ampolles plenes.

### √âs adequada per a principiants?
Nom√©s si esteu en forma, teniu confian√ßa amb descensos i tr√†nsit, i esteu disposats a girar a la platja si cal.

### Puc fer servir una bici el√®ctrica?
S√≠, per√≤ controleu la bateria, manteniu una mica de pot√®ncia per a la tornada. Considereu mantenir l'assist√®ncia en configuracions baixes a l'anada.

### Quina √©s la millor √®poca de l'any?
Primavera (mar√ß-maig), juny i tardor (setembre-octubre) ofereixen les millors condicions: temperatures suaus, menys tr√†nsit i llum preciosa. L'estiu pot ser molt calor√≥s, aix√≠ que una sortida d'hora √©s vital.

### He d'agafar el desviament de la Talaia d'Albercutx?
Nom√©s si teniu confian√ßa amb pendents molt pronunciades (10-14%+) sobre superf√≠cies irregulars i baixades t√®cniques. Les vistes s√≥n espectaculars per√≤ afegeix dificultat significativa.

### Qu√® passa si tinc una avaria mec√†nica?
Assegureu-vos de tenir una p√≤lissa activa de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> abans de sortir.

## Comen√ßar

Preparats per afrontar el Cap de Formentor? Tant si us allotgeu al Port de Pollen√ßa com en un altre lloc de l'illa, una bona planificaci√≥ marca la difer√®ncia.

Considereu reservar un <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">Mallorca Cycle Shuttle</a> fins al Port de Pollen√ßa si us trobeu m√©s lluny. Consulteu els <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">busos bici programats</a> per a horaris de sortida convenients.

I no oblideu comprar la vostra p√≤lissa de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">rescat de bici</a> abans de fer la ruta - tranquil¬∑litat per a vosaltres i el vostre grup.

Gaudiu d'una de les rutes costaneres m√©s espectaculars de Mallorca!
