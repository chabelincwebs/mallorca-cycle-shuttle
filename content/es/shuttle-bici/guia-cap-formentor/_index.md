---
title: "Gu√≠a de Ciclismo: Cap de Formentor en Bicicleta"
description: "Gu√≠a completa para recorrer el Cap de Formentor en bicicleta - De Port de Pollen√ßa al faro y regreso, con impresionantes vistas costeras, t√∫neles y crestas expuestas"
translationKey: "guide-cap-formentor"
hero_image: "/img/cap-formentor-hero-master-guide.webp"
hero_title: "Gu√≠a de Ciclismo: Cap de Formentor en Bicicleta"
layout: "guide-hero"
type: "bike-shuttle"

stats:
  - icon: "üìè"
    value: "38-42 km"
    label: "Distancia Total"
  - icon: "‚õ∞Ô∏è"
    value: "1200m"
    label: "Desnivel Acumulado"
  - icon: "üìä"
    value: "6-7%"
    label: "Subidas Principales"
  - icon: "‚è±Ô∏è"
    value: "1h45-4h"
    label: "Tiempo en Movimiento"

route_cards:
  - title: "C√≥mo Llegar"
    image: "/img/cap-formentor-getting-there.webp"
    excerpt: "Si te alojas cerca, es imprescindible. Si te alojas m√°s lejos, toma un autob√∫s de bicicletas programado o reserva un shuttle privado a Port de Pollen√ßa."
    full_content: |
      Port de Pollen√ßa es el punto de partida natural para la ruta del Cap de Formentor. Si te alojas en la zona, simplemente sal desde tu alojamiento.

      Para aquellos que est√©n alojados en otro lugar de la isla, considera tomar un <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">autob√∫s de bicicletas programado</a> o reservar un <a href="/es/shuttle-bici/reservas-shuttle-privado/" target="_blank" rel="noopener noreferrer">shuttle privado</a> a Port de Pollen√ßa. Esto te permite empezar fresco y ahorra energ√≠a para la ruta.

      La ruta tambi√©n se puede combinar con el recorrido de <a href="/es/shuttle-bici/guia-andratx-pollenca/" target="_blank" rel="noopener noreferrer">Andratx a Pollen√ßa</a> para un d√≠a √©pico en bicicleta.

  - title: "Descripci√≥n de la Ruta"
    image: "/img/cap-formentor-route.webp"
    excerpt: "Ida y vuelta por la Ma-2210 con dos subidas principales: Coll de Sa Creueta al Mirador Es Colomer, luego en el regreso desde la playa de Formentor de vuelta al Mirador Es Colomer."
    full_content: |
      El recorrido es una ida y vuelta por la Ma-2210 con dos secciones principales de subida:

      **Port de Pollen√ßa ‚Üí Mirador Es Colomer (Coll de Sa Creueta)**
      Subida de 4 km con aproximadamente 6‚Äì7% de pendiente y curvas cerradas que llevan a un mirador espectacular.

      **Regreso: Playa de Formentor (Platja de Formentor) ‚Üí Mirador**
      Subida similar de 4 km con aproximadamente 6‚Äì7% de pendiente y curvas cerradas con vistas al mar que regresan al mirador.

      **Playa ‚Üí Faro (Faro de Formentor)**
      M√°s expuesto con cabras y algo de sombra de un bosque de pinos, que lleva a vistas espectaculares sobre Cala Murta antes del t√∫nel (iluminado) de unos cientos de metros. Varias rampas punzantes, con la rampa final particularmente desafiante en el regreso.

      **A√±adidos opcionales:** La carretera lateral muy empinada de Talaia d'Albercutx desde el Mirador Es Colomer ofrece vistas impresionantes pero presenta pendientes de 10‚Äì14%+ en superficies rugosas durante unos 3 km. Tambi√©n se recomienda una pausa en Platja de Formentor. ¬°Alimentar a las cabras en el faro con tus costosas barritas energ√©ticas puede ser necesario! El caf√© del faro generalmente est√° abierto cuando hace buen tiempo de 10:00 a 16:00 de marzo a octubre, pero no cuentes con ello.

  - title: "Seguridad y Preparaci√≥n"
    image: "/img/cap-formentor-safety.webp"
    excerpt: "Luces delanteras/traseras obligatorias para t√∫neles. El viento puede hacer que las crestas est√©n expuestas. Aseg√∫rate de tener tu p√≥liza de Mallorca Bike Rescue en caso de que la bici o el cuerpo te fallen."
    full_content: |
      **Equipo de Seguridad Esencial:**
      - Luces delanteras y traseras (obligatorias para t√∫neles - qu√≠tate las gafas de sol dentro)
      - Cortavientos para secciones expuestas y descensos
      - 2 bidones llenos (no conf√≠es en grifos en ruta)
      - DNI y tel√©fono (WhatsApp funciona bien para compartir ubicaci√≥n)
      - C√°maras de repuesto/kit de parches, minibomba/CO‚ÇÇ, multiherramienta, patilla del cambio

      **Etiqueta de Conducci√≥n:**
      - Desciende dentro de las l√≠neas de visi√≥n - cuidado con curvas ciegas y puentes estrechos
      - En fila india cuando hay tr√°fico; cede el paso a otros en puntos estrechos
      - Cuidado con cabras, desprendimientos y pi√±as en la carretera
      - Los parches h√∫medos bajo los √°rboles pueden ser resbaladizos
      - No drones en el parque sin permisos; respeta toda la se√±alizaci√≥n

      **Contactos de Emergencia:**
      - Servicios de emergencia: 112 (comparte ubicaci√≥n exacta v√≠a poste kilom√©trico o pin de WhatsApp)
      - Plan de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">rescate</a>: Aseg√∫rate de tener tu p√≥liza de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> si la bici o el cuerpo te fallan.
---

## Resumen

**Ruta:** Port de Pollen√ßa ‚Üí Cap de Formentor (faro) ‚Üí regreso

**Distancia y desnivel:** ~38‚Äì42 km, ~1200m de desnivel acumulado

**Superficie:** Buen asfalto; vistas espectaculares; un t√∫nel corto iluminado

**Tiempo de ruta (en movimiento):**
- Fuerte: 1h45‚Äì2h15
- En forma: 2h15‚Äì3h
- Tranquilo: 3h‚Äì4h

**Dificultad:** Intermedio a avanzado (exposici√≥n + viento + tr√°fico)

**Mejor hora de salida:** Temprano o tarde por la tarde; evita el tr√°fico tur√≠stico de mediod√≠a

## C√≥mo Funciona

Esta es una ruta de ida y vuelta por la Ma-2210 con dos subidas y media principales: 1. el ascenso del Coll de Sa Creueta al Mirador Es Colomer, luego en el regreso hay una subida corta picante (¬°media!) desde el faro y luego desde la playa de Formentor de vuelta al Mirador Es Colomer. El resto es una monta√±a rusa de subidas y bajadas cortas. Espera que el viaje de regreso sea mucho m√°s r√°pido que el de ida.

Los a√±adidos opcionales incluyen la carretera lateral muy empinada de Talaia d'Albercutx con una superficie irregular (solo para escaladores confiados) o una pausa relajante en Platja de Formentor.

Si te alojas cerca, es imprescindible. Si te alojas m√°s lejos, toma un <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">shuttle programado</a> o reserva un <a href="/es/shuttle-bici/reservas-shuttle-privado/" target="_blank" rel="noopener noreferrer">shuttle privado</a> a Port de Pollen√ßa.

## Desglose por Sectores

### Port de Pollen√ßa ‚Üí Mirador Es Colomer (Coll de Sa Creueta)

**Distancia:** 4 km
**Pendiente:** ~6‚Äì7% con curvas cerradas
**Destacados:** Mirador costero espectacular en la cima
**Peligros:** Autobuses tur√≠sticos ocasionales
**Escapatoria:** Ninguna hasta la cima

Esta subida inicial presenta pendientes constantes con curvas en horquilla talladas en la ladera. El mirador Es Colomer en la cumbre ofrece vistas impresionantes sobre los acantilados dram√°ticos y es una parada fotogr√°fica perfecta.

### Mirador ‚Üí Playa de Formentor (Platja de Formentor)

**Distancia:** unos 4 km de bajada ondulante
**Pendiente:** 5-6%
**Destacados:** Paisaje costero, bosque, ¬°descenso ondulante/vertiginoso!
**Peligros:** Secciones estrechas, visibilidad limitada en algunas curvas
**Comida/agua:** Cafeter√≠a de temporada en la playa (horarios poco fiables, precios altos)

La carretera se abre con impresionantes vistas mediterr√°neas en el descenso hacia la zona de la playa.

### Playa ‚Üí Faro (Faro de Formentor)

**Distancia:** √öltimo empuj√≥n al faro 7,5 km
**Pendiente:** Varias rampas punzantes
**Destacados:** Conducci√≥n por cresta expuesta, vistas al mar, bosque, peque√±o vi√±edo
**Peligros:** Exposici√≥n ocasional al viento, cabras, la rampa final muerde duro en el regreso
**Escapatoria:** Da la vuelta donde lo necesites


### Tabla Resumen de Sectores

| Sector | Distancia | Tiempo T√≠pico | Pendientes | Peligros Principales | Escapatoria/Comida |
|---------|----------|--------------|-----------|-------------|---------------|
| Port de Pollen√ßa ‚Üí Mirador | 4 km | 15-25 min | 6-7% | Carretera estrecha, autobuses | Ninguna |
| Mirador ‚Üí Playa | 4 km | 10 min | 5% | Roc√≠o, agujas de pino | Playa y caf√© Mirador (temporada) |
| Playa ‚Üí Faro | 7-8 km | 20-40 min | Rampas punzantes | D√≠as ventosos, cabras | Girar en la playa |
| **Total ida** | ~19-21 km | ~55-100 min | Mixto | Varios | M√∫ltiples |
| **Total regreso** | ~19-21 km | ~50-90 min | Perfil inverso | Igual + piernas cansadas | Igual |

## Mapa y Archivos

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
/* Route Cards */
.route-accordion {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 2rem 0;
}

.route-item {
  border: 1px solid #d2d2d7;
  border-radius: 12px;
  background: #ffffff;
  overflow: hidden;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
}

.route-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06);
  border-color: rgba(241, 0, 0, 0.2);
}

.route-item.active {
  background: #ffffff;
  border-color: rgba(241, 0, 0, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.route-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 1.5rem;
  cursor: pointer;
  user-select: none;
  gap: 1rem;
  flex-wrap: wrap;
  background: transparent;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.route-header:hover {
  background: rgba(245, 245, 247, 0.5);
}

.route-item.active .route-header {
  padding-bottom: 1.5rem;
}

.route-item.active .route-header::after {
  content: '‚úï';
  position: absolute;
  top: 1rem;
  right: 1rem;
  font-size: 1.25rem;
  color: #6e6e73;
  font-weight: 600;
  line-height: 1;
  opacity: 0.6;
  transition: opacity 0.2s ease;
}

.route-item.active .route-header:hover::after {
  opacity: 1;
}

.route-title-section {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
  min-width: 200px;
}

.route-icon {
  font-size: 1.25rem;
  transition: transform 0.2s ease;
  color: #f10000;
}

.route-item.active .route-icon {
  transform: rotate(90deg);
}

.route-title {
  font-weight: 600;
  font-size: 1.0625rem;
  color: #1d1d1f;
  line-height: 1.3;
}

.route-stats-inline {
  display: flex;
  gap: 0.75rem;
  color: #6e6e73;
  font-size: 0.875rem;
  font-weight: 500;
  flex-wrap: wrap;
  align-items: center;
  margin-top: 0.5rem;
}

.route-stats-inline span {
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.375rem 0.75rem;
  background: #f5f5f7;
  border-radius: 6px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.route-stats-inline span:hover {
  background: rgba(245, 245, 247, 0.8);
}

.route-actions {
  display: flex;
  gap: 0.5rem;
}

.gpx-download {
  padding: 0.5rem 1rem;
  background: #f5f5f7;
  border: 1px solid #d2d2d7;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  color: #1d1d1f;
  text-decoration: none;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  white-space: nowrap;
}

.gpx-download:hover {
  background: #f10000;
  color: white;
  border-color: #f10000;
  text-decoration: none;
  transform: translateY(-1px);
}

.route-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.route-item.active .route-content {
  max-height: 2000px;
}

.route-content-inner {
  padding: 0 1.5rem 1.5rem 1.5rem;
}

.route-description {
  margin: 0 0 1.5rem 0;
  padding: 1rem;
  background: #f5f5f7;
  border-left: 3px solid #f10000;
  border-radius: 4px;
  font-style: italic;
  color: #6e6e73;
  line-height: 1.6;
}

.route-map {
  height: 500px;
  width: 100%;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  border: 1px solid #d2d2d7;
  overflow: hidden;
  background: #aad3df;
}

.route-map .leaflet-tile-container {
  opacity: 1 !important;
}

.route-map .leaflet-tile,
.route-map .leaflet-tile-pane img,
.route-map img.leaflet-tile {
  opacity: 1 !important;
  visibility: visible !important;
  width: 256px !important;
  height: 256px !important;
  max-width: 256px !important;
  max-height: 256px !important;
  min-width: 256px !important;
  min-height: 256px !important;
}

.route-map .leaflet-layer {
  opacity: 1 !important;
}

.route-map img {
  max-width: none !important;
  width: auto !important;
  height: auto !important;
}

.route-map .leaflet-overlay-pane {
  z-index: 400 !important;
  pointer-events: none !important;
}

.route-map .leaflet-overlay-pane svg,
.route-map svg.leaflet-zoom-animated {
  overflow: visible !important;
  max-width: none !important;
  max-height: none !important;
  min-width: 0 !important;
  min-height: 0 !important;
  display: block !important;
  position: absolute !important;
}

main .container .prose .route-map svg,
.route-map .leaflet-overlay-pane svg,
.route-map svg {
  max-width: none !important;
  max-height: none !important;
  height: initial !important;
  width: initial !important;
}

.route-map .leaflet-overlay-pane path,
.route-map path.leaflet-interactive,
.route-map svg path,
.route-map path.route-polyline {
  visibility: visible !important;
  display: block !important;
  opacity: 0.8 !important;
  stroke: #f10000 !important;
  stroke-width: 3px !important;
  stroke-opacity: 0.8 !important;
  fill: none !important;
  fill-opacity: 0 !important;
  pointer-events: auto !important;
  vector-effect: non-scaling-stroke !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  transform: none !important;
}

path.route-polyline {
  stroke: #f10000 !important;
  stroke-width: 3px !important;
  visibility: visible !important;
  opacity: 0.8 !important;
}

.route-map .leaflet-marker-icon,
.route-map .leaflet-marker-pane img {
  max-width: none !important;
  min-width: 25px !important;
  min-height: 41px !important;
  width: 25px !important;
  height: 41px !important;
}

.route-map .custom-marker {
  width: 30px !important;
  height: 30px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.route-map .custom-marker div {
  width: 30px !important;
  height: 30px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.elevation-profile {
  height: 300px;
  width: 100%;
  background: white;
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid #d2d2d7;
}

.elevation-profile canvas {
  max-width: 100% !important;
}

@media (max-width: 768px) {
  .route-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .route-stats-inline {
    font-size: 0.8125rem;
  }

  .route-map {
    height: 400px;
  }

  .elevation-profile {
    height: 250px;
  }
}
</style>

<div class="route-accordion">
  <!-- Route 1: Standard -->
  <div class="route-item" id="route-formentor-1">
    <div class="route-header" onclick="toggleRoute('formentor-1')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa a Cap de Formentor Ida y Vuelta</div>
          <div class="route-stats-inline">
            <span>üìè 42 km</span>
            <span>‚õ∞Ô∏è 1200m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-formentor_return.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Ida y vuelta cl√°sica al faro con dos secciones principales de subida, vistas costeras, t√∫neles cortos y crestas expuestas. La forma m√°s popular de experimentar Cap de Formentor.</p>
        <div id="map-formentor-1" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-1"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 2: With Albercutx -->
  <div class="route-item" id="route-formentor-2">
    <div class="route-header" onclick="toggleRoute('formentor-2')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa a Cap de Formentor v√≠a Talaia d'Albercutx</div>
          <div class="route-stats-inline">
            <span>üìè 46 km</span>
            <span>‚õ∞Ô∏è 1450m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-albercutx-formentor_return.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Variante desafiante que a√±ade la carretera lateral muy empinada de Talaia d'Albercutx desde el Mirador Es Colomer. Presenta pendientes de 10-14%+ en superficies rugosas con vistas espectaculares de 360¬∞. Solo para escaladores confiados.</p>
        <div id="map-formentor-2" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-2"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 3: Port de Pollen√ßa via Cap de Formentor to Playa de Palma -->
  <div class="route-item" id="route-formentor-3">
    <div class="route-header" onclick="toggleRoute('formentor-3')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa v√≠a Cap de Formentor a Playa de Palma</div>
          <div class="route-stats-inline">
            <span>üìè 110 km</span>
            <span>‚õ∞Ô∏è 2300m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/Port_de_Pollen√ßa_via_Cap_de_Formentor_to_Playa_de_Palma.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Ruta √©pica que combina el espectacular faro de Cap de Formentor con un recorrido hacia Playa de Palma. Comienza con la ic√≥nica ida y vuelta de Formentor antes de dirigirse al sur a trav√©s de las estribaciones de Tramuntana hasta la costa.</p>
        <div id="map-formentor-3" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-3"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 4: Pollen√ßa to Andratx via Formentor -->
  <div class="route-item" id="route-formentor-4">
    <div class="route-header" onclick="toggleRoute('formentor-4')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Regreso v√≠a Cap de Formentor</div>
          <div class="route-stats-inline">
            <span>üìè 162 km</span>
            <span>‚õ∞Ô∏è 3.500 m</span>
            <span style="display: inline-block; padding: 0.375rem 0.875rem; border-radius: 6px; font-size: 0.6875rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; background: #FFD700; color: #000; font-weight: 800;">√âpico</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-portandratx-formentor.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Completa la cl√°sica costa a costa pero incluye lo que algunos consideran los mejores 20 km de carretera para ciclistas en Europa - la ida y vuelta al faro de Cap de Formentor. ¬°D√≠a √©pico en bici!</p>
        <div id="map-formentor-4" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-4"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Route configuration
const routes = {
  'formentor-1': { gpx: 'portpollenca-formentor_return-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Faro de Formentor' },
  'formentor-2': { gpx: 'portpollenca-albercutx-formentor_return-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Faro de Formentor' },
  'formentor-3': { gpx: 'Port_de_Pollen√ßa_via_Cap_de_Formentor_to_Playa_de_Palma-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Playa de Palma' },
  'formentor-4': { gpx: 'portpollenca-portandratx-formentor-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Port d\'Andratx' }
};

const loadedRoutes = {};

// Toggle accordion item
function toggleRoute(routeId) {
  const item = document.getElementById('route-' + routeId);
  const wasActive = item.classList.contains('active');

  // Close all other items
  document.querySelectorAll('.route-item').forEach(el => {
    el.classList.remove('active');
  });

  // Open this item if it wasn't active
  if (!wasActive) {
    item.classList.add('active');

    // Load route if not already loaded
    if (!loadedRoutes[routeId]) {
      loadRoute(routeId);
      loadedRoutes[routeId] = true;
    }
  }
}

// Load and render a route
async function loadRoute(routeId) {
  const config = routes[routeId];
  if (!config) return;

  try {
    // Fetch GPX
    const response = await fetch('/routes/' + config.gpx);
    const gpxText = await response.text();
    const parser = new DOMParser();
    const gpxDoc = parser.parseFromString(gpxText, 'text/xml');

    // Extract coordinates
    const trkpts = Array.from(gpxDoc.querySelectorAll('trkpt'));
    const coordinates = trkpts.map(pt => ({
      lat: parseFloat(pt.getAttribute('lat')),
      lon: parseFloat(pt.getAttribute('lon')),
      ele: parseFloat(pt.querySelector('ele').textContent)
    }));

    // Render map
    renderMap(routeId, coordinates, config);

    // Render elevation chart
    renderElevationChart(routeId, coordinates);

  } catch (error) {
    console.error('Error loading route:', error);
  }
}

// Render map
function renderMap(routeId, coordinates, config) {
  const mapId = 'map-' + routeId;
  const mapDiv = document.getElementById(mapId);

  // Initialize map
  const map = L.map(mapId).setView([coordinates[0].lat, coordinates[0].lon], 10);

  // Add tiles
  const tileLayer = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors',
    maxZoom: 19
  });

  tileLayer.addTo(map);

  // Add route line
  const routeLine = L.polyline(coordinates.map(c => [c.lat, c.lon]), {
    color: '#f10000',
    weight: 3,
    opacity: 0.8,
    fillOpacity: 0,
    lineCap: 'round',
    lineJoin: 'round',
    className: 'route-polyline',
    smoothFactor: 0,
    noClip: true
  }).addTo(map);

  routeLine.bringToFront();

  // Create custom marker icons
  const startIcon = L.divIcon({
    html: '<div style="width:30px;height:30px;background:#00ff00;border:3px solid white;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>',
    className: 'custom-marker',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
  });

  const endIcon = L.divIcon({
    html: '<div style="width:30px;height:30px;background:#ff0000;border:3px solid white;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>',
    className: 'custom-marker',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
  });

  // Add markers
  L.marker([coordinates[0].lat, coordinates[0].lon], { icon: startIcon })
    .addTo(map)
    .bindPopup('<strong>Salida:</strong> ' + config.startName);

  const lastIdx = coordinates.length - 1;
  L.marker([coordinates[lastIdx].lat, coordinates[lastIdx].lon], { icon: endIcon })
    .addTo(map)
    .bindPopup('<strong>Llegada:</strong> ' + config.endName);

  // Fit bounds
  map.fitBounds(routeLine.getBounds(), { padding: [50, 50] });

  // Force resize after animation
  setTimeout(() => {
    map.invalidateSize();
  }, 500);
}

// Render elevation chart
function renderElevationChart(routeId, coordinates) {
  const chartId = 'chart-' + routeId;
  const ctx = document.getElementById(chartId).getContext('2d');

  // Calculate cumulative distance
  const distancePoints = [0];
  for (let i = 1; i < coordinates.length; i++) {
    const lat1 = coordinates[i-1].lat * Math.PI / 180;
    const lat2 = coordinates[i].lat * Math.PI / 180;
    const dLat = (coordinates[i].lat - coordinates[i-1].lat) * Math.PI / 180;
    const dLon = (coordinates[i].lon - coordinates[i-1].lon) * Math.PI / 180;
    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
              Math.cos(lat1) * Math.cos(lat2) *
              Math.sin(dLon/2) * Math.sin(dLon/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    distancePoints.push(distancePoints[i-1] + 6371 * c);
  }

  // Sample data
  const sampleRate = 5;
  const sampledDistances = distancePoints.filter((_, i) => i % sampleRate === 0);
  const sampledElevations = coordinates.filter((_, i) => i % sampleRate === 0).map(c => c.ele);

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: sampledDistances.map(d => d.toFixed(1)),
      datasets: [{
        label: 'Altitud (m)',
        data: sampledElevations,
        borderColor: '#f10000',
        backgroundColor: 'rgba(241, 0, 0, 0.1)',
        borderWidth: 2,
        fill: true,
        tension: 0.4,
        pointRadius: 0
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: {
            title: (context) => 'Distancia: ' + context[0].label + ' km',
            label: (context) => 'Altitud: ' + context.parsed.y.toFixed(0) + ' m'
          }
        }
      },
      scales: {
        x: {
          title: { display: true, text: 'Distancia (km)' },
          ticks: { maxTicksLimit: 15 }
        },
        y: {
          title: { display: true, text: 'Altitud (m)' }
        }
      },
      interaction: {
        intersect: false,
        mode: 'index'
      }
    }
  });
}
</script>

## Estrategia de Horarios (Realidad de Tr√°fico y Clima)

### Restricciones Vehiculares de Temporada

Las restricciones vehiculares de temporada al faro se aplican de junio a octubre (sin coches m√°s all√° de ciertos puntos, solo autobuses tur√≠sticos cada hora) ‚Äì **los ciclistas siempre est√°n permitidos**.

En 2025, las restricciones estuvieron vigentes del 1 de junio al 31 de octubre. En 2026, hay un debate en curso sobre extender las restricciones vehiculares para incluir mayo para que el poder de los pedales pueda reinar por m√°s tiempo (¬°dedos cruzados!).

### Consideraciones sobre el Viento

En d√≠as ventosos, las r√°fagas pueden hacer que las crestas expuestas sean desafiantes. S√© prudente y considera regresar si las condiciones se vuelven inseguras. Revisa los pron√≥sticos de viento antes de salir.

### Calor y Sol

Sombra m√≠nima en esta ruta aparte de los 3 kil√≥metros aproximadamente entre la playa y el t√∫nel donde pasas por el bosque de pinos. Planifica agua adecuada y protector solar, especialmente en los meses m√°s calurosos. La playa de Formentor es tu amiga para una pausa refrescante y oportunidad de rellenar agua (cuando las instalaciones de temporada est√°n abiertas).

### Mejores Horarios

- **Amanecer a media ma√±ana:** Luz m√°gica, tr√°fico m√≠nimo, temperaturas m√°s frescas
- **Tarde:** Buena luz para fotos, menos tr√°fico
- **Evitar:** Media ma√±ana tard√≠a (12:30-14:00) cuando el tr√°fico tur√≠stico alcanza su pico

## Seguridad y Etiqueta

- **Luces:** Luces delanteras y traseras obligatorias para t√∫neles; quita las gafas de sol dentro
- **Descender:** Mantente dentro de las l√≠neas de visi√≥n ‚Äì las curvas ciegas y puentes estrechos requieren precauci√≥n
- **Peligros de carretera:** Cuidado con cabras, desprendimientos, pi√±as y parches h√∫medos bajo los √°rboles
- **Tr√°fico:** En fila india cuando hay tr√°fico; cede el paso a otros en puntos estrechos
- **Permisos:** No drones en el parque sin permisos; respeta toda la se√±alizaci√≥n
- **Emergencia:** Llama al 112 y comparte la ubicaci√≥n exacta (poste kilom√©trico o pin de ubicaci√≥n de WhatsApp)
- **Plan de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">rescate</a>:** Aseg√∫rate de tener tu p√≥liza de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> si la bici o el cuerpo te fallan

## Agua, Comida e Instalaciones

### Port de Pollen√ßa (Salida/Llegada)
Servicios completos disponibles: cafeter√≠as, restaurantes, supermercados, tiendas de bicicletas, ba√±os.

### Es Mirador (Cumbre)
Operaci√≥n de temporada, snacks b√°sicos y bebidas, portaloo disponible (¬°comprueba horarios de apertura tanto para el ba√±o como para el caf√©!)

### Playa de Formentor (Platja de Formentor)
Hotel/cafeter√≠a de temporada puede estar abierto; espera precios altos y horarios variables.

### Cafeter√≠a del Faro
Operaci√≥n de temporada; a veces cerrada sin previo aviso con mal tiempo. Generalmente abierta de marzo a octubre de 10:00 a 16:00.

### Estrategia de Agua
**No conf√≠es en recargas en ruta en caso de que los caf√©s est√©n cerrados.** Comienza con 2 bidones llenos.

### Equipo Esencial
- **Luces:** Obligatorias para t√∫neles (delanteras y traseras)
- **Capas:** Cortavientos para descensos; el clima puede cambiar r√°pidamente
- **Repuestos:** Lo que necesites para arreglar un pinchazo
- **Dinero:** Efectivo y tarjeta (algunas instalaciones solo tarjeta, otras solo efectivo)
- **DNI y tel√©fono:** Lleva DNI con foto; WhatsApp funciona bien para compartir ubicaci√≥n de emergencia

## Perfiles de Ciclistas

### Principiantes en Mallorca
**Recomendaci√≥n:** Da la vuelta en la playa de Formentor si tienes alguna duda sobre forma f√≠sica, clima o tiempo. La secci√≥n del faro es m√°s expuesta y desafiante.

### Grupos Intermedios
**Recomendaci√≥n:** La ruta completa al faro es alcanzable y brillante. Reagrupense antes de descensos y t√∫neles. Establezcan una hora de regreso y c√∫mplanla.

### Ciclistas Fuertes/Experimentados
**Recomendaci√≥n:** Considera a√±adir el ramal de Talaia d'Albercutx desde el Mirador (rampas empinadas 10‚Äì14%+, superficie rugosa, vistas impresionantes). Solo intenta si est√°s seguro con escaladas y descensos t√©cnicos y empinados.

## Variantes y Escapatorias

### Opci√≥n de D√≠a Corto
**Port de Pollen√ßa ‚Üî Playa de Formentor solamente**
~20 km en total, reduce mucha subida mientras sigue ofreciendo paisajes espectaculares.

### Bucle de Paradas Fotogr√°ficas
**A√±ade Talaia d'Albercutx desde el Mirador**
Rampas muy empinadas (10‚Äì14%+), superficie rugosa, vistas de 360¬∞ absolutamente impresionantes. Desciende con extremo cuidado ‚Äì grava suelta, agujeros y pendientes empinadas.

## Lugares para Fotos

### Mirador Es Colomer
Aparca de forma segura fuera de la carretera en √°reas designadas. Vistas ic√≥nicas de acantilados mirando hacia la pen√≠nsula.

### Salidas de T√∫neles
Solo para en entradas/salidas de t√∫neles donde haya refugios seguros ‚Äì nunca dentro o inmediatamente fuera de los t√∫neles.

### Faro
Espacio limitado. S√© r√°pido y considerado con otros visitantes.

### Fotos de Fauna
Nunca pares en curvas ciegas. Las cabras son modelos impredecibles y puedes hacer que corran hacia la carretera.

### <a href="https://www.mallorcacyclingphotos.com/" target="_blank">Mallorca Bike Fotos</a>
Fot√≥grafos profesionales de <a href="https://www.mallorcacyclingphotos.com/" target="_blank">Mallorca Bike Fotos</a> est√°n estacionados en Es Colomer de Formentor y justo antes del faro, capturando tomas de acci√≥n ic√≥nicas de ti en movimiento. Las fotos se suben cada noche ‚Äì cons√∫ltalas en l√≠nea despu√©s de tu recorrido.

## Bueno Saber (Datos R√°pidos)

- **Se√±al m√≥vil:** Generalmente OK pero puede caer cerca de acantilados y en valles
- **Superficie de carretera:** Realmente bonita ‚Äì ten especial cuidado en descensos de que la velocidad no supere la habilidad
- **Sombra:** Escasa en toda la ruta ‚Äì protector solar y electrolitos esenciales incluso en temporadas intermedias
- **Fauna:** Las cabras pueden aparecer inesperadamente en la carretera
- **Tr√°fico:** Las restricciones de temporada ayudan pero se llena en abril y mayo de 12:00 a 14:00
- **Historia:** Como Sa Calobra, esta carretera fue dise√±ada por el ingeniero Antonio Parietti en los a√±os 1920-30

## Preguntas Frecuentes

### ¬øEst√° la carretera cerrada a coches?
S√≠ (t√≠picamente junio‚Äìoctubre 10:00 - 22:00, posiblemente extendi√©ndose a mayo en 2026). Los ciclistas generalmente est√°n permitidos en todo momento ‚Äì verifica las reglas actuales antes de ir.

### ¬øHay agua disponible en la ruta?
**No cuentes con ello.** Comienza con 2 bidones llenos.

### ¬øEs adecuado para principiantes?
Solo si est√°s en forma, te sientes seguro con descensos y tr√°fico, y est√°s dispuesto a dar la vuelta en la playa si es necesario.

### ¬øPuedo montar una e-bike?
S√≠, pero cuida tu bater√≠a, mant√©n algo de potencia para el regreso. Considera mantener la asistencia en configuraciones bajas en la ida.

### ¬øCu√°l es la mejor √©poca del a√±o?
Primavera (marzo‚Äìmayo), junio y oto√±o (septiembre‚Äìoctubre) ofrecen las mejores condiciones: temperaturas suaves, menos tr√°fico y luz hermosa. El verano puede ser muy caluroso, por lo que una salida temprana es vital.

### ¬øDeber√≠a tomar el desv√≠o de Talaia d'Albercutx?
Solo si te sientes seguro con pendientes muy empinadas (10‚Äì14%+) en superficies rugosas y descensos t√©cnicos. Las vistas son espectaculares pero a√±ade dificultad significativa.

### ¬øQu√© pasa si tengo un problema mec√°nico?
Aseg√∫rate de tener una p√≥liza activa de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> antes de salir.

## Empezando

¬øListo para enfrentar Cap de Formentor? Ya sea que te alojes en Port de Pollen√ßa o en otro lugar de la isla, una planificaci√≥n adecuada marca la diferencia.

Considera reservar un <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">Mallorca Cycle Shuttle</a> a Port de Pollen√ßa si te encuentras m√°s lejos. Consulta los <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">autobuses de bicicletas programados</a> para horarios de salida convenientes.

Y no olvides comprar tu p√≥liza de <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">rescate de bicicletas</a> antes de montar ‚Äì tranquilidad para ti y tu grupo.

¬°Disfruta uno de los recorridos costeros m√°s espectaculares de Mallorca!
