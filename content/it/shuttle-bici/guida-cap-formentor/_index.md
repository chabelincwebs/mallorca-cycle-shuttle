---
title: "Guida Ciclistica: Cap de Formentor in Bicicletta"
description: "Guida completa al ciclismo a Cap de Formentor - Da Port de Pollen√ßa al faro e ritorno, con spettacolari viste costiere, tunnel e creste esposte"
translationKey: "guide-cap-formentor"
hero_image: "/img/cap-formentor-hero-master-guide.webp"
hero_title: "Guida Ciclistica: Cap de Formentor in Bicicletta"
layout: "guide-hero"
type: "bike-shuttle"

stats:
  - icon: "üìè"
    value: "38-42 km"
    label: "Distanza Totale"
  - icon: "‚õ∞Ô∏è"
    value: "1200m"
    label: "Dislivello"
  - icon: "üìä"
    value: "6-7%"
    label: "Salite Principali"
  - icon: "‚è±Ô∏è"
    value: "1h45-4h"
    label: "Tempo di Percorrenza"

route_cards:
  - title: "Come Arrivare"
    image: "/img/cap-formentor-getting-there.webp"
    excerpt: "Se alloggi nelle vicinanze √® un must. Se alloggi pi√π lontano, prendi un autobus bici programmato o prenota uno shuttle privato per Port de Pollen√ßa."
    full_content: |
      Port de Pollen√ßa √® il punto di partenza naturale per il percorso del Cap de Formentor. Se alloggi nella zona, parti semplicemente dal tuo alloggio.

      Per chi alloggia altrove sull'isola, considera di prendere un <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">autobus bici programmato</a> o di prenotare uno <a href="/it/shuttle-bici/prenotazioni-shuttle-privato/" target="_blank" rel="noopener noreferrer">shuttle privato</a> per Port de Pollen√ßa. Questo ti permette di iniziare fresco e risparmiare energia per il percorso.

      Il percorso pu√≤ essere combinato anche con il giro <a href="/it/shuttle-bici/guida-andratx-pollenca/" target="_blank" rel="noopener noreferrer">Andratx-Pollen√ßa</a> per una giornata epica in bici.

  - title: "Panoramica del Percorso"
    image: "/img/cap-formentor-route.webp"
    excerpt: "Andata e ritorno sulla Ma-2210 con due salite principali: Coll de Sa Creueta al Mirador Es Colomer, poi al ritorno dalla spiaggia di Formentor al Mirador Es Colomer."
    full_content: |
      Il percorso √® un'andata e ritorno sulla Ma-2210 con due sezioni principali di salita:

      **Port de Pollen√ßa ‚Üí Mirador Es Colomer (Coll de Sa Creueta)**
      Salita di 4 km con circa 6‚Äì7% di pendenza e tornanti che portano a un punto panoramico spettacolare.

      **Ritorno: Spiaggia di Formentor (Platja de Formentor) ‚Üí Mirador**
      Salita simile di 4 km con circa 6‚Äì7% di pendenza e tornanti con vista sul mare che ritornano al punto panoramico.

      **Spiaggia ‚Üí Faro (Faro de Formentor)**
      Pi√π esposto con capre e un po' d'ombra da una pineta, che porta a viste spettacolari su Cala Murta prima del tunnel (illuminato) di qualche centinaio di metri. Diverse rampe pungenti, con la rampa finale particolarmente impegnativa al ritorno.

      **Aggiunte opzionali:** La strada laterale molto ripida di Talaia d'Albercutx dal Mirador Es Colomer offre viste mozzafiato ma presenta pendenze del 10‚Äì14%+ su superfici ruvide per circa 3 km. Si consiglia anche una pausa alla Platja de Formentor. Nutrire le capre al faro con le tue costose barrette energetiche potrebbe essere necessario! Il bar al faro √® generalmente aperto con bel tempo da marzo a ottobre dalle 10:00 alle 16:00, ma non contarci.

  - title: "Sicurezza e Preparazione"
    image: "/img/cap-formentor-safety.webp"
    excerpt: "Luci anteriori/posteriori obbligatorie per i tunnel. Il vento pu√≤ rendere le creste esposte. Assicurati di avere la tua polizza Mallorca Bike Rescue nel caso in cui bici o corpo ti tradiscano."
    full_content: |
      **Attrezzatura di Sicurezza Essenziale:**
      - Luci anteriori e posteriori (obbligatorie per i tunnel - togli gli occhiali da sole all'interno)
      - Giacca antivento per sezioni esposte e discese
      - 2 borracce piene (non fare affidamento su rubinetti lungo il percorso)
      - Documento d'identit√† e telefono (WhatsApp funziona bene per condividere la posizione)
      - Camere d'aria di scorta/kit di riparazione, mini-pompa/CO‚ÇÇ, multi-tool, forcellino del cambio

      **Etichetta di Guida:**
      - Scendi entro le linee di visuale - attenzione alle curve cieche e ai ponti stretti
      - In fila indiana quando c'√® traffico; cedi il passo ad altri nei punti stretti
      - Attenzione alle capre, caduta massi e pigne sulla strada
      - Le zone umide sotto gli alberi possono essere scivolose
      - No droni nel parco senza permessi; rispetta tutta la segnaletica

      **Contatti di Emergenza:**
      - Servizi di emergenza: 112 (condividi la posizione esatta tramite palo chilometrico o pin WhatsApp)
      - Piano di <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">salvataggio</a>: Assicurati di avere la tua polizza <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> se bici o corpo ti tradiscono.
---

## Panoramica

**Percorso:** Port de Pollen√ßa ‚Üí Cap de Formentor (faro) ‚Üí ritorno

**Distanza e dislivello:** ~38‚Äì42 km, ~1200m di dislivello totale

**Superficie:** Buon asfalto; viste spettacolari; un breve tunnel illuminato

**Tempo di percorrenza (in movimento):**
- Forte: 1h45‚Äì2h15
- In forma: 2h15‚Äì3h
- Tranquillo: 3h‚Äì4h

**Difficolt√†:** Intermedio ad avanzato (esposizione + vento + traffico)

**Orario di partenza migliore:** Presto o tardo pomeriggio; evita il traffico turistico dell'ora di pranzo

## Come Funziona

Questo √® un percorso di andata e ritorno sulla Ma-2210 con due salite e mezza principali: 1. la salita del Coll de Sa Creueta al Mirador Es Colomer, poi al ritorno c'√® una salita breve e vivace (mezza!) dal faro e poi dalla spiaggia di Formentor al Mirador Es Colomer. Il resto √® un ottovolante di brevi salite e discese. Aspettati che il viaggio di ritorno sia molto pi√π veloce di quello di andata.

Le aggiunte opzionali includono la strada laterale molto ripida di Talaia d'Albercutx con una superficie irregolare (solo per scalatori esperti) o una pausa rilassante alla Platja de Formentor.

Se alloggi nelle vicinanze √® un must. Se alloggi pi√π lontano, prendi uno <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">shuttle programmato</a> o prenota uno <a href="/it/shuttle-bici/prenotazioni-shuttle-privato/" target="_blank" rel="noopener noreferrer">shuttle privato</a> per Port de Pollen√ßa.

## Suddivisione per Settori

### Port de Pollen√ßa ‚Üí Mirador Es Colomer (Coll de Sa Creueta)

**Distanza:** 4 km
**Pendenza:** ~6‚Äì7% con tornanti
**Punti salienti:** Punto panoramico costiero spettacolare in cima
**Pericoli:** Autobus turistici occasionali
**Via d'uscita:** Nessuna fino alla cima

Questa salita iniziale presenta pendenze costanti con tornanti scolpiti nel fianco della collina. Il punto panoramico Mirador Es Colomer in cima offre viste mozzafiato sulle scogliere drammatiche ed √® una sosta fotografica perfetta.

### Mirador ‚Üí Spiaggia di Formentor (Platja de Formentor)

**Distanza:** circa 4 km di discesa sinuosa
**Pendenza:** 5-6%
**Punti salienti:** Paesaggio costiero, foresta, discesa sinuosa/vertiginosa!
**Pericoli:** Sezioni strette, visibilit√† limitata in alcune curve
**Cibo/acqua:** Bar stagionale sulla spiaggia (orari poco affidabili, prezzi alti)

La strada si apre con splendide viste mediterranee nella discesa verso la zona della spiaggia.

### Spiaggia ‚Üí Faro (Faro de Formentor)

**Distanza:** Ultimo tratto verso il faro 7,5 km
**Pendenza:** Diverse rampe pungenti
**Punti salienti:** Guida su cresta esposta, viste sul mare, foresta, piccolo vigneto
**Pericoli:** Esposizione occasionale al vento, capre, la rampa finale morde duro al ritorno
**Via d'uscita:** Gira dove hai bisogno


### Tabella Riepilogativa dei Settori

| Settore | Distanza | Tempo Tipico | Pendenze | Pericoli Principali | Via d'uscita/Cibo |
|---------|----------|--------------|-----------|-------------|---------------|
| Port de Pollen√ßa ‚Üí Mirador | 4 km | 15-25 min | 6-7% | Strada stretta, autobus | Nessuna |
| Mirador ‚Üí Spiaggia | 4 km | 10 min | 5% | Rugiada, aghi di pino | Spiaggia e bar Mirador (stagionale) |
| Spiaggia ‚Üí Faro | 7-8 km | 20-40 min | Rampe pungenti | Giorni ventosi, capre | Gira alla spiaggia |
| **Totale andata** | ~19-21 km | ~55-100 min | Misto | Vari | Multipli |
| **Totale ritorno** | ~19-21 km | ~50-90 min | Profilo inverso | Stesso + gambe stanche | Stesso |

## Mappa e File

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
/* Route Cards */
.route-accordion {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 2rem 0;
}

.route-item {
  border: 1px solid #d2d2d7;
  border-radius: 12px;
  background: #ffffff;
  overflow: hidden;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
}

.route-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06);
  border-color: rgba(241, 0, 0, 0.2);
}

.route-item.active {
  background: #ffffff;
  border-color: rgba(241, 0, 0, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.route-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 1.5rem;
  cursor: pointer;
  user-select: none;
  gap: 1rem;
  flex-wrap: wrap;
  background: transparent;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.route-header:hover {
  background: rgba(245, 245, 247, 0.5);
}

.route-item.active .route-header {
  padding-bottom: 1.5rem;
}

.route-item.active .route-header::after {
  content: '‚úï';
  position: absolute;
  top: 1rem;
  right: 1rem;
  font-size: 1.25rem;
  color: #6e6e73;
  font-weight: 600;
  line-height: 1;
  opacity: 0.6;
  transition: opacity 0.2s ease;
}

.route-item.active .route-header:hover::after {
  opacity: 1;
}

.route-title-section {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
  min-width: 200px;
}

.route-icon {
  font-size: 1.25rem;
  transition: transform 0.2s ease;
  color: #f10000;
}

.route-item.active .route-icon {
  transform: rotate(90deg);
}

.route-title {
  font-weight: 600;
  font-size: 1.0625rem;
  color: #1d1d1f;
  line-height: 1.3;
}

.route-stats-inline {
  display: flex;
  gap: 0.75rem;
  color: #6e6e73;
  font-size: 0.875rem;
  font-weight: 500;
  flex-wrap: wrap;
  align-items: center;
  margin-top: 0.5rem;
}

.route-stats-inline span {
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.375rem 0.75rem;
  background: #f5f5f7;
  border-radius: 6px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.route-stats-inline span:hover {
  background: rgba(245, 245, 247, 0.8);
}

.route-actions {
  display: flex;
  gap: 0.5rem;
}

.gpx-download {
  padding: 0.5rem 1rem;
  background: #f5f5f7;
  border: 1px solid #d2d2d7;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  color: #1d1d1f;
  text-decoration: none;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  white-space: nowrap;
}

.gpx-download:hover {
  background: #f10000;
  color: white;
  border-color: #f10000;
  text-decoration: none;
  transform: translateY(-1px);
}

.route-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.route-item.active .route-content {
  max-height: 2000px;
}

.route-content-inner {
  padding: 0 1.5rem 1.5rem 1.5rem;
}

.route-description {
  margin: 0 0 1.5rem 0;
  padding: 1rem;
  background: #f5f5f7;
  border-left: 3px solid #f10000;
  border-radius: 4px;
  font-style: italic;
  color: #6e6e73;
  line-height: 1.6;
}

.route-map {
  height: 500px;
  width: 100%;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  border: 1px solid #d2d2d7;
  overflow: hidden;
  background: #aad3df;
}

.route-map .leaflet-tile-container {
  opacity: 1 !important;
}

.route-map .leaflet-tile,
.route-map .leaflet-tile-pane img,
.route-map img.leaflet-tile {
  opacity: 1 !important;
  visibility: visible !important;
  width: 256px !important;
  height: 256px !important;
  max-width: 256px !important;
  max-height: 256px !important;
  min-width: 256px !important;
  min-height: 256px !important;
}

.route-map .leaflet-layer {
  opacity: 1 !important;
}

.route-map img {
  max-width: none !important;
  width: auto !important;
  height: auto !important;
}

.route-map .leaflet-overlay-pane {
  z-index: 400 !important;
  pointer-events: none !important;
}

.route-map .leaflet-overlay-pane svg,
.route-map svg.leaflet-zoom-animated {
  overflow: visible !important;
  max-width: none !important;
  max-height: none !important;
  min-width: 0 !important;
  min-height: 0 !important;
  display: block !important;
  position: absolute !important;
}

main .container .prose .route-map svg,
.route-map .leaflet-overlay-pane svg,
.route-map svg {
  max-width: none !important;
  max-height: none !important;
  height: initial !important;
  width: initial !important;
}

.route-map .leaflet-overlay-pane path,
.route-map path.leaflet-interactive,
.route-map svg path,
.route-map path.route-polyline {
  visibility: visible !important;
  display: block !important;
  opacity: 0.8 !important;
  stroke: #f10000 !important;
  stroke-width: 3px !important;
  stroke-opacity: 0.8 !important;
  fill: none !important;
  fill-opacity: 0 !important;
  pointer-events: auto !important;
  vector-effect: non-scaling-stroke !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  transform: none !important;
}

path.route-polyline {
  stroke: #f10000 !important;
  stroke-width: 3px !important;
  visibility: visible !important;
  opacity: 0.8 !important;
}

.route-map .leaflet-marker-icon,
.route-map .leaflet-marker-pane img {
  max-width: none !important;
  min-width: 25px !important;
  min-height: 41px !important;
  width: 25px !important;
  height: 41px !important;
}

.route-map .custom-marker {
  width: 30px !important;
  height: 30px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.route-map .custom-marker div {
  width: 30px !important;
  height: 30px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.elevation-profile {
  height: 300px;
  width: 100%;
  background: white;
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid #d2d2d7;
}

.elevation-profile canvas {
  max-width: 100% !important;
}

@media (max-width: 768px) {
  .route-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .route-stats-inline {
    font-size: 0.8125rem;
  }

  .route-map {
    height: 400px;
  }

  .elevation-profile {
    height: 250px;
  }
}
</style>

<div class="route-accordion">
  <!-- Route 1: Standard -->
  <div class="route-item" id="route-formentor-1">
    <div class="route-header" onclick="toggleRoute('formentor-1')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa a Cap de Formentor Andata e Ritorno</div>
          <div class="route-stats-inline">
            <span>üìè 42 km</span>
            <span>‚õ∞Ô∏è 1200m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-formentor_return.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Classica andata e ritorno al faro con due sezioni principali di salita, viste costiere, brevi tunnel e creste esposte. Il modo pi√π popolare di vivere Cap de Formentor.</p>
        <div id="map-formentor-1" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-1"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 2: With Albercutx -->
  <div class="route-item" id="route-formentor-2">
    <div class="route-header" onclick="toggleRoute('formentor-2')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa a Cap de Formentor via Talaia d'Albercutx</div>
          <div class="route-stats-inline">
            <span>üìè 46 km</span>
            <span>‚õ∞Ô∏è 1450m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-albercutx-formentor_return.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Variante impegnativa che aggiunge la strada laterale molto ripida di Talaia d'Albercutx dal Mirador Es Colomer. Presenta pendenze del 10-14%+ su superfici ruvide con viste spettacolari a 360¬∞. Solo per scalatori esperti.</p>
        <div id="map-formentor-2" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-2"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 3: Port de Pollen√ßa via Cap de Formentor to Playa de Palma -->
  <div class="route-item" id="route-formentor-3">
    <div class="route-header" onclick="toggleRoute('formentor-3')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Port de Pollen√ßa via Cap de Formentor a Playa de Palma</div>
          <div class="route-stats-inline">
            <span>üìè 110 km</span>
            <span>‚õ∞Ô∏è 2300m</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/Port_de_Pollen√ßa_via_Cap_de_Formentor_to_Playa_de_Palma.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Percorso epico che combina lo spettacolare faro di Cap de Formentor con un giro verso Playa de Palma. Inizia con l'iconica andata e ritorno di Formentor prima di dirigerti a sud attraverso le pendici della Tramuntana fino alla costa.</p>
        <div id="map-formentor-3" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-3"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Route 4: Pollen√ßa to Andratx via Formentor -->
  <div class="route-item" id="route-formentor-4">
    <div class="route-header" onclick="toggleRoute('formentor-4')">
      <div class="route-title-section">
        <span class="route-icon">‚ñ∂</span>
        <div>
          <div class="route-title">Ritorno via Cap de Formentor</div>
          <div class="route-stats-inline">
            <span>üìè 162 km</span>
            <span>‚õ∞Ô∏è 3.500 m</span>
            <span style="display: inline-block; padding: 0.375rem 0.875rem; border-radius: 6px; font-size: 0.6875rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; background: #FFD700; color: #000; font-weight: 800;">Epico</span>
          </div>
        </div>
      </div>
      <div class="route-actions">
        <a href="/routes/portpollenca-portandratx-formentor.gpx" download class="gpx-download" onclick="event.stopPropagation()">‚¨á GPX</a>
      </div>
    </div>
    <div class="route-content">
      <div class="route-content-inner">
        <p class="route-description">Completa la classica da costa a costa ma includi quello che √® considerato da alcuni come i migliori 20 km di strada per ciclisti in Europa - l'andata e ritorno al faro di Cap de Formentor. Giornata epica in bici!</p>
        <div id="map-formentor-4" class="route-map"></div>
        <div class="elevation-profile">
          <canvas id="chart-formentor-4"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Route configuration
const routes = {
  'formentor-1': { gpx: 'portpollenca-formentor_return-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Faro de Formentor' },
  'formentor-2': { gpx: 'portpollenca-albercutx-formentor_return-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Faro de Formentor' },
  'formentor-3': { gpx: 'Port_de_Pollen√ßa_via_Cap_de_Formentor_to_Playa_de_Palma-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Playa de Palma' },
  'formentor-4': { gpx: 'portpollenca-portandratx-formentor-web.gpx', startName: 'Port de Pollen√ßa', endName: 'Port d\'Andratx' }
};

const loadedRoutes = {};

// Toggle accordion item
function toggleRoute(routeId) {
  const item = document.getElementById('route-' + routeId);
  const wasActive = item.classList.contains('active');

  // Close all other items
  document.querySelectorAll('.route-item').forEach(el => {
    el.classList.remove('active');
  });

  // Open this item if it wasn't active
  if (!wasActive) {
    item.classList.add('active');

    // Load route if not already loaded
    if (!loadedRoutes[routeId]) {
      loadRoute(routeId);
      loadedRoutes[routeId] = true;
    }
  }
}

// Load and render a route
async function loadRoute(routeId) {
  const config = routes[routeId];
  if (!config) return;

  try {
    // Fetch GPX
    const response = await fetch('/routes/' + config.gpx);
    const gpxText = await response.text();
    const parser = new DOMParser();
    const gpxDoc = parser.parseFromString(gpxText, 'text/xml');

    // Extract coordinates
    const trkpts = Array.from(gpxDoc.querySelectorAll('trkpt'));
    const coordinates = trkpts.map(pt => ({
      lat: parseFloat(pt.getAttribute('lat')),
      lon: parseFloat(pt.getAttribute('lon')),
      ele: parseFloat(pt.querySelector('ele').textContent)
    }));

    // Render map
    renderMap(routeId, coordinates, config);

    // Render elevation chart
    renderElevationChart(routeId, coordinates);

  } catch (error) {
    console.error('Error loading route:', error);
  }
}

// Render map
function renderMap(routeId, coordinates, config) {
  const mapId = 'map-' + routeId;
  const mapDiv = document.getElementById(mapId);

  // Initialize map
  const map = L.map(mapId).setView([coordinates[0].lat, coordinates[0].lon], 10);

  // Add tiles
  const tileLayer = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors',
    maxZoom: 19
  });

  tileLayer.addTo(map);

  // Add route line
  const routeLine = L.polyline(coordinates.map(c => [c.lat, c.lon]), {
    color: '#f10000',
    weight: 3,
    opacity: 0.8,
    fillOpacity: 0,
    lineCap: 'round',
    lineJoin: 'round',
    className: 'route-polyline',
    smoothFactor: 0,
    noClip: true
  }).addTo(map);

  routeLine.bringToFront();

  // Create custom marker icons
  const startIcon = L.divIcon({
    html: '<div style="width:30px;height:30px;background:#00ff00;border:3px solid white;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>',
    className: 'custom-marker',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
  });

  const endIcon = L.divIcon({
    html: '<div style="width:30px;height:30px;background:#ff0000;border:3px solid white;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>',
    className: 'custom-marker',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
  });

  // Add markers
  L.marker([coordinates[0].lat, coordinates[0].lon], { icon: startIcon })
    .addTo(map)
    .bindPopup('<strong>Partenza:</strong> ' + config.startName);

  const lastIdx = coordinates.length - 1;
  L.marker([coordinates[lastIdx].lat, coordinates[lastIdx].lon], { icon: endIcon })
    .addTo(map)
    .bindPopup('<strong>Arrivo:</strong> ' + config.endName);

  // Fit bounds
  map.fitBounds(routeLine.getBounds(), { padding: [50, 50] });

  // Force resize after animation
  setTimeout(() => {
    map.invalidateSize();
  }, 500);
}

// Render elevation chart
function renderElevationChart(routeId, coordinates) {
  const chartId = 'chart-' + routeId;
  const ctx = document.getElementById(chartId).getContext('2d');

  // Calculate cumulative distance
  const distancePoints = [0];
  for (let i = 1; i < coordinates.length; i++) {
    const lat1 = coordinates[i-1].lat * Math.PI / 180;
    const lat2 = coordinates[i].lat * Math.PI / 180;
    const dLat = (coordinates[i].lat - coordinates[i-1].lat) * Math.PI / 180;
    const dLon = (coordinates[i].lon - coordinates[i-1].lon) * Math.PI / 180;
    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
              Math.cos(lat1) * Math.cos(lat2) *
              Math.sin(dLon/2) * Math.sin(dLon/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    distancePoints.push(distancePoints[i-1] + 6371 * c);
  }

  // Sample data
  const sampleRate = 5;
  const sampledDistances = distancePoints.filter((_, i) => i % sampleRate === 0);
  const sampledElevations = coordinates.filter((_, i) => i % sampleRate === 0).map(c => c.ele);

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: sampledDistances.map(d => d.toFixed(1)),
      datasets: [{
        label: 'Altitudine (m)',
        data: sampledElevations,
        borderColor: '#f10000',
        backgroundColor: 'rgba(241, 0, 0, 0.1)',
        borderWidth: 2,
        fill: true,
        tension: 0.4,
        pointRadius: 0
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: {
            title: (context) => 'Distanza: ' + context[0].label + ' km',
            label: (context) => 'Altitudine: ' + context.parsed.y.toFixed(0) + ' m'
          }
        }
      },
      scales: {
        x: {
          title: { display: true, text: 'Distanza (km)' },
          ticks: { maxTicksLimit: 15 }
        },
        y: {
          title: { display: true, text: 'Altitudine (m)' }
        }
      },
      interaction: {
        intersect: false,
        mode: 'index'
      }
    }
  });
}
</script>

## Strategia di Tempistica (Realt√† di Traffico e Meteo)

### Restrizioni Veicolari Stagionali

Le restrizioni veicolari stagionali al faro si applicano da giugno a ottobre (nessuna auto oltre certi punti, solo autobus turistici ogni ora) ‚Äì **i ciclisti sono sempre ammessi**.

Nel 2025, le restrizioni erano in vigore dal 1¬∞ giugno al 31 ottobre. Nel 2026, c'√® un dibattito in corso sull'estensione delle restrizioni veicolari per includere maggio cos√¨ che il potere dei pedali possa regnare pi√π a lungo (incrociamo le dita!).

### Considerazioni sul Vento

Nelle giornate ventose, le raffiche possono rendere le creste esposte impegnative. Sii prudente e considera di tornare indietro se le condizioni diventano insicure. Controlla le previsioni del vento prima di partire.

### Caldo e Sole

Ombra minima su questo percorso a parte i 3 chilometri circa tra la spiaggia e il tunnel dove si attraversa la pineta. Pianifica acqua adeguata e protezione solare, specialmente nei mesi pi√π caldi. La spiaggia di Formentor √® la tua amica per una pausa rinfrescante e opportunit√† di riempimento (quando le strutture stagionali sono aperte).

### Orari Migliori

- **Alba a met√† mattina:** Luce magica, traffico minimo, temperature pi√π fresche
- **Tardo pomeriggio:** Buona luce per foto, meno traffico
- **Evitare:** Tarda mattinata (12:30-14:00) quando il traffico turistico raggiunge il picco

## Sicurezza ed Etichetta

- **Luci:** Luci anteriori e posteriori obbligatorie per i tunnel; togli gli occhiali da sole all'interno
- **Discesa:** Resta entro le linee di visuale - le curve cieche e i ponti stretti richiedono cautela
- **Pericoli stradali:** Attenzione a capre, caduta massi, pigne e zone umide sotto gli alberi
- **Traffico:** Fila indiana quando c'√® traffico; cedi il passo ad altri nei punti stretti
- **Permessi:** No droni nel parco senza permessi; rispetta tutta la segnaletica
- **Emergenza:** Chiama il 112 e condividi la posizione esatta (palo chilometrico o pin di posizione WhatsApp)
- **Piano di <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">salvataggio</a>:** Assicurati di avere la tua polizza <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> se bici o corpo ti tradiscono

## Acqua, Cibo e Strutture

### Port de Pollen√ßa (Partenza/Arrivo)
Servizi completi disponibili: bar, ristoranti, supermercati, negozi di biciclette, bagni.

### Es Mirador (Cima)
Funzionamento stagionale, snack e bevande di base, portaloo disponibile (controlla gli orari di apertura sia per il bagno che per il bar!)

### Spiaggia di Formentor (Platja de Formentor)
Hotel/bar stagionale pu√≤ essere aperto; aspettati prezzi alti e orari variabili.

### Bar del Faro
Funzionamento stagionale; a volte chiuso senza preavviso in caso di maltempo. Generalmente aperto da marzo a ottobre dalle 10:00 alle 16:00.

### Strategia Acqua
**Non fare affidamento su ricariche lungo il percorso nel caso in cui i bar siano chiusi.** Inizia con 2 borracce piene.

### Attrezzatura Essenziale
- **Luci:** Obbligatorie per i tunnel (anteriori e posteriori)
- **Strati:** Giacca antivento per discese; il tempo pu√≤ cambiare rapidamente
- **Ricambi:** Qualsiasi cosa tu abbia bisogno per riparare una foratura
- **Denaro:** Contanti e carta (alcune strutture solo carta, altre solo contanti)
- **Documento e telefono:** Porta documento d'identit√† con foto; WhatsApp funziona bene per condividere la posizione di emergenza

## Profili di Ciclisti

### Principianti a Maiorca
**Raccomandazione:** Gira alla spiaggia di Formentor se hai dubbi su forma fisica, meteo o tempo. La sezione del faro √® pi√π esposta e impegnativa.

### Gruppi Intermedi
**Raccomandazione:** Il percorso completo al faro √® fattibile e brillante. Rigruppati prima delle discese e dei tunnel. Stabilisci un orario di ritorno e rispettalo.

### Ciclisti Forti/Esperti
**Raccomandazione:** Considera di aggiungere la diramazione di Talaia d'Albercutx dal Mirador (rampe ripide 10‚Äì14%+, superficie ruvida, viste mozzafiato). Prova solo se sei sicuro con salite e discese ripide e tecniche.

## Varianti e Vie d'Uscita

### Opzione Giornata Breve
**Port de Pollen√ßa ‚Üî Spiaggia di Formentor solamente**
~20 km totali, riduce molta salita pur offrendo paesaggi spettacolari.

### Anello Sosta Fotografica
**Aggiungi Talaia d'Albercutx dal Mirador**
Rampe molto ripide (10‚Äì14%+), superficie ruvida, viste a 360¬∞ assolutamente mozzafiato. Scendi con estrema cautela - ghiaia sciolta, buche e pendenze ripide.

## Punti Fotografici

### Mirador Es Colomer
Parcheggia in sicurezza fuori strada in aree designate. Viste iconiche delle scogliere guardando la penisola.

### Uscite dei Tunnel
Fermati solo agli ingressi/uscite dei tunnel dove ci sono piazzole sicure - mai dentro o immediatamente fuori dai tunnel.

### Faro
Spazio limitato. Sii veloce e considerato con gli altri visitatori.

### Foto di Fauna
Non fermarti mai su curve cieche. Le capre sono modelli imprevedibili e potresti farle correre sulla strada.

### <a href="https://www.mallorcacyclingphotos.com/" target="_blank">Mallorca Bike Fotos</a>
Fotografi professionisti di <a href="https://www.mallorcacyclingphotos.com/" target="_blank">Mallorca Bike Fotos</a> sono posizionati a Es Colomer de Formentor e appena prima del faro, catturando scatti d'azione iconici di te in movimento. Le foto vengono caricate ogni sera - controllale online dopo il tuo percorso.

## Buono a Sapersi (Info Veloci)

- **Segnale mobile:** Generalmente OK ma pu√≤ cadere vicino alle scogliere e nelle valli
- **Superficie stradale:** Davvero bella - presta particolare attenzione nelle discese che la velocit√† non superi l'abilit√†
- **Ombra:** Scarsa lungo tutto il percorso - protezione solare ed elettroliti essenziali anche nelle stagioni intermedie
- **Fauna:** Le capre possono apparire inaspettatamente sulla strada
- **Traffico:** Le restrizioni stagionali aiutano ma si riempie in aprile e maggio dalle 12:00 alle 14:00
- **Storia:** Come Sa Calobra, questa strada fu progettata dall'ingegnere Antonio Parietti negli anni 1920-30

## Domande Frequenti

### La strada √® chiusa alle auto?
S√¨ (tipicamente giugno‚Äìottobre 10:00 - 22:00, possibilmente esteso a maggio nel 2026). I ciclisti sono solitamente ammessi in ogni momento - controlla le regole attuali prima di andare.

### C'√® acqua disponibile lungo il percorso?
**Non contarci.** Inizia con 2 borracce piene.

### √à adatto ai principianti?
Solo se sei in forma, ti senti sicuro con le discese e il traffico, e sei disposto a tornare indietro alla spiaggia se necessario.

### Posso guidare una e-bike?
S√¨, ma fai attenzione alla tua batteria, mantieni un po' di potenza per il ritorno. Considera di mantenere l'assistenza su impostazioni basse all'andata.

### Qual √® il periodo migliore dell'anno?
Primavera (marzo‚Äìmaggio), giugno e autunno (settembre‚Äìottobre) offrono le migliori condizioni: temperature miti, meno traffico e bella luce. L'estate pu√≤ essere molto calda, quindi una partenza anticipata √® fondamentale.

### Dovrei prendere la deviazione di Talaia d'Albercutx?
Solo se sei sicuro con pendenze molto ripide (10‚Äì14%+) su superfici ruvide e discese tecniche. Le viste sono spettacolari ma aggiunge difficolt√† significativa.

### Cosa succede se ho un problema meccanico?
Assicurati di avere una polizza attiva <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">Mallorca Bike Rescue</a> prima di partire.

## Iniziare

Pronto ad affrontare Cap de Formentor? Che tu alloggi a Port de Pollen√ßa o altrove sull'isola, una pianificazione adeguata fa la differenza.

Considera di prenotare uno <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">Mallorca Cycle Shuttle</a> per Port de Pollen√ßa se ti trovi pi√π lontano. Controlla gli <a href="https://mallorcacycleshuttle.company.site/products/Scheduled-Bike-Buses-c15728235" target="_blank" rel="noopener noreferrer">autobus bici programmati</a> per orari di partenza convenienti.

E non dimenticare di acquistare la tua polizza di <a href="https://mallorcacycleshuttle.company.site/products/Rescue-&-Recovery-c15728236" target="_blank" rel="noopener noreferrer">salvataggio bici</a> prima di guidare - tranquillit√† per te e il tuo gruppo.

Goditi uno dei percorsi costieri pi√π spettacolari di Maiorca!
